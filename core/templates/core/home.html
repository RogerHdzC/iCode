{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block head %}
{{ form.media }}
{% endblock %}

{% block title %}
{% if user.is_authenticated %} 
    Bienvenido, {{ user.name }}
{% endif %}
{% endblock %}

{% block content %}

<form action="" method="post">{% csrf_token %}
    {{ form.as_p }}
    <input class="btn btn-primary" type="submit" value='Ejecutar'>
</form>

<p>
{{ result }}
{{ errors }}
</p> 


<script>
    document.addEventListener('DOMContentLoaded', function(){
        var currentPath = "{{request.path}}";

        var navItems = document.querySelectorAll('.navbar-nav .nav-item');
        navItems.forEach(function(item) {
            var link = item.querySelector('.nav-link');
            var href = link.getAttribute('href');
            
            if(currentPath === href){
                item.classList.add('active');
                link.classList.add('active')
            }
        });
    });
</script>
{% endblock %}
